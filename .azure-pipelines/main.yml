# Trigger the build whenever `main` is updated
trigger:
  - main
  - rel/*

# Scheduled nightly build
schedules:
  - cron: "0 0 * * *"
    displayName: Nightly scheduled build
    always: false # Don't rebuild if there haven't been changes
    branches:
      include:
        - main

# Grab the base templates from https://github.com/microsoft/vscode-azuretools
resources:
  repositories:
    - repository: templates
      type: github
      name: microsoft/vscode-azuretools
      ref: main
      endpoint: GitHub

# Use those templates
extends:
  template: azure-pipelines/main.yml@templates
  parameters:
    working_directories:
      # appservice:
      #   working_directory: appservice
      # appsettings:
      #   working_directory: appsettings
      # azure:
      #   working_directory: azure
      # dev:
      #   working_directory: dev
      - eslint-config-azuretools:
          working_directory: eslint-config-azuretools
      # kudu:
      #   working_directory: kudu
      - utils:
          working_directory: utils
